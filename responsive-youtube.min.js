/* Responsive-Youtube.js 0.0.1 | Copyright (c) 2017 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(t,e,n){"use strict";function r(t){if(t&&e.contains(t)&&i(t,"ry-ignore")!==!0){var n=i(t,"ry-width")||t.clientWidth,r=i(t,"ry-height")||t.clientHeight;t.setAttribute("data-ry-width",n),t.setAttribute("data-ry-height",r),t.width="100%",n!=r?t.height=t.clientWidth/(n/r):t.height=t.clientWidth}}function o(t,n,o){o&&"object"==typeof o||(o={}),s(b,o);var i=new YT.Player(t,{videoId:n,playerVars:o,events:{onReady:function(n){var o=e.getElementById(t);r(o),y.push(o),l("ready",n,i)},onStateChange:function(t){l("state",t,i)},onPlaybackQualityChange:function(t){l("quality",t,i)},onPlaybackRateChange:function(t){l("rate",t,i)},onError:function(t){l("error",t,i)},onApiChange:function(t){l("api",t,i)}}});l("create",i)}function i(t,e){var n,r=t.getAttribute("data-"+e);if("true"===r||"false"===r)return"true"===r;if(/^\[[\s\S]+\]$|^\{[\s\S]+\}$/.test(r))try{n=JSON.parse(r)}catch(o){}return n||r}function a(t){for(var e=t.addedNodes,n=[],r=[],o=e.length-1;o>=0;o--)e[o].matches(S)?n.push(e[o]):r.push(e[o]);f(n),u(n)}function c(){p||(p=!0,t.addEventListener("resize",function(){if(y.length)for(var t=0,e=y.length;e>t;t++)r(y[t])}),new MutationObserver(function(t){t.forEach(a)}).observe(e.body,{childList:!0}),l("done"))}function u(t){for(var e=0,n=t.length;n>e;e++)f(t[e].querySelectorAll(S))}function f(t){for(var e=0,n=t.length;n>e;e++){var r=t[e];r.id||(v++,r.id="responsive-youtube-"+v),o(r.id,i(r,"ry-video"),i(r,"ry-config"))}}function s(t,e){for(var n in t)/^(object|function)$/i.test(typeof t[n])||(e[n]=t[n])}function h(n){if("object"==typeof n?s(n,b):b={},t.onYouTubeIframeAPIReady=function(){f(e.querySelectorAll(S)),c()},!g){g=!0;var r=e.createElement("script");r.ansyc=!0,r.src="https://www.youtube.com/iframe_api";var o=e.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)}}function l(t,e,n){if(m[t])for(var r=m[t],o=0;o<r.length;o++)r[o](e,n)}function d(t,e,n){if("function"==typeof e){m[t]||(m[t]=[]);var r=m[t];if(!n)return void r.push(e);var o,i=[];for(o=r.length-1;o>=0;o--)r[o]===e&&i.push(o);for(o=i.length-1;o>=0;o--)r.splice(i[o],1)}}var y=[],v=0,g=!1,p=!1,m={},b={},w=t.Element&&t.Element.prototype,S="[data-ry-video]:not(iframe)";t.ResponsiveYoutube={start:h,on:function(t,e){d(t,e)},off:function(t,e){d(t,e,!0)}},w&&!w.matches&&(w.matches=w.matchesSelector||w.mozMatchesSelector||w.msMatchesSelector||w.oMatchesSelector||w.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e[n]!==this;);return n>-1})}(window,document);
