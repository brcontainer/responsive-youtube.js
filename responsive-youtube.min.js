/* Responsive-youtube.js 0.1.5 | Copyright (c) 2018 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

!function(e,t,n){"use strict";var r,o,i=[],a=0,c=!1,u=!0,f={},s={},h=e.Element&&e.Element.prototype,l="[data-ry-video]:not(iframe)",d=",with,height,ignore,video,cover,",y=e.MutationObserver||e.WebKitMutationObserver;function v(e){if(!0!==e)r&&clearTimeout(r),r=setTimeout(v,300,!0);else if(i.length)for(var t=0,n=i.length;t<n;t++)m(i[t].getIframe())}function m(e){if(e&&t.body.contains(e)&&!0!==w(e,"ignore")){var n=w(e,"width")||e.clientWidth,r=w(e,"height")||e.clientHeight;e.setAttribute("data-ry-width",n),e.setAttribute("data-ry-height",r),e.width="100%",e.height=n!=r?e.clientWidth/(n/r):e.clientWidth}}function g(e){if(e)return v();clearTimeout(o),o=setTimeout(g,5e3,!0)}function p(e,n,r){r&&"object"==typeof r||(r={}),A(s,r);var o=new YT.Player(e,{videoId:n,playerVars:r,events:{onReady:function(n){m(t.getElementById(e)),N("ready",n,o)},onStateChange:function(e){N("state",e,o)},onPlaybackQualityChange:function(e){N("quality",e,o)},onPlaybackRateChange:function(e){N("rate",e,o)},onError:function(e){N("error",e,o)},onApiChange:function(e){N("api",e,o)}}});i.push(o),N("create",o),g()}function b(e){for(var t=e.attributes,n={},r=t.length-1;r>=0;r--){var o=t[r].nodeName;0===o.indexOf("data-ry-")&&(o=o.substr(8),-1===d.indexOf(","+o+",")&&(n[o]=w(e,o)))}return n}function w(e,t){var n,r=e.getAttribute("data-ry-"+t);if("true"===r||"false"===r)return"true"===r;if(!isNaN(r))return parseFloat(r);if(/^\[[\s\S]+\]$|^\{[^:]+[:][\s\S]+\}$/.test(r))try{n=JSON.parse(r)}catch(e){}return n||r}function S(e){if(!u){for(var t,r=e.addedNodes,o=[],i=[],a=r.length-1;a>=0;a--)1===(t=r[a]).nodeType&&(t.matches(l)&&t.matches?o.push(t):i.push(t));t=n,T(o),function(e){for(var t=0,n=e.length;t<n;t++)T(e[t].querySelectorAll(l))}(i)}}function T(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.id||(r.id="responsive-youtube-"+ ++a),p(r.id,w(r,"video"),b(r))}}function A(e,t){for(var n in e)/^(object|function)$/i.test(typeof e[n])||(t[n]=e[n])}function E(){if(T(t.querySelectorAll(l)),!c){if(c=!0,e.addEventListener("resize",v),!y)return N("error");new y(function(e){e.forEach(S)}).observe(t.body,{childList:!0}),N("done")}}function N(e,t,n){if(f[e])for(var r=f[e],o=0;o<r.length;o++)r[o](t,n)}function M(e,t,n){"function"==typeof t&&(f[e]||(f[e]=[]),n?f[e]=f[e].filter(function(e){return e!==t}):f[e].push(t))}e.ResponsiveYoutube={start:function(n){if("object"==typeof n?A(n,s):s={},u=!1,e.YT&&e.YT.Player)return E();e.onYouTubeIframeAPIReady=E;var r=t.createElement("script");r.ansyc=!0,r.src="https://www.youtube.com/iframe_api";var o=t.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)},destroy:function(){u=!0,s={};for(var e=i.length-1;e>=0;e--)i[e].destroy();i=[]},supported:!!y,on:function(e,t){M(e,t)},off:function(e,t){M(e,t,!0)}},h&&!h.matches&&(h.matches=h.matchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector||h.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t[n]!==this;);return n>-1})}(window,document);
